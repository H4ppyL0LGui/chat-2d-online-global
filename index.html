<!DOCTYPE html>
<!--
JOGO 3D SIMPLES - TOP VIEW / TERCEIRA PESSOA
Usa Three.js (CDN)
Movimento: W A S D
Câmera segue o player
-->
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Jogo 3D</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; overflow:hidden; background:#000; }
#ui {
  position:fixed; top:10px; left:10px; color:white; font-family:Arial;
  background:rgba(0,0,0,0.5); padding:8px; border-radius:6px;
}
</style>
</head>
<body>
<div id="ui">W A S D para andar</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

<script>
// CENA
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb);

// CÂMERA
const camera = new THREE.PerspectiveCamera(
  75,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);

// RENDER
const renderer = new THREE.WebGLRenderer({ antialias:true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// LUZ
const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(5,10,5);
scene.add(light);
scene.add(new THREE.AmbientLight(0xffffff, 0.4));

// CHÃO
const groundGeo = new THREE.PlaneGeometry(200, 200);
const groundMat = new THREE.MeshStandardMaterial({ color:0x4caf50 });
const ground = new THREE.Mesh(groundGeo, groundMat);
ground.rotation.x = -Math.PI / 2;
scene.add(ground);

// PLAYER (CUBO AZUL)
const playerGeo = new THREE.BoxGeometry(1,1,1);
const playerMat = new THREE.MeshStandardMaterial({ color:0x0000ff });
const player = new THREE.Mesh(playerGeo, playerMat);
player.position.y = 0.5;
scene.add(player);

// ÁRVORES
for (let i=0;i<20;i++){
  const trunk = new THREE.Mesh(
    new THREE.CylinderGeometry(0.2,0.2,1),
    new THREE.MeshStandardMaterial({ color:0x6d4c41 })
  );
  trunk.position.set(
    Math.random()*80-40,
    0.5,
    Math.random()*80-40
  );

  const leaves = new THREE.Mesh(
    new THREE.SphereGeometry(0.8,16,16),
    new THREE.MeshStandardMaterial({ color:0x1b5e20 })
  );
  leaves.position.set(0,1,0);

  trunk.add(leaves);
  scene.add(trunk);
}

// CONTROLES
const keys = {};
window.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

// RESIZE
window.addEventListener('resize', () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// LOOP
function animate(){
  requestAnimationFrame(animate);

  if (keys['w']) player.position.z -= 0.1;
  if (keys['s']) player.position.z += 0.1;
  if (keys['a']) player.position.x -= 0.1;
  if (keys['d']) player.position.x += 0.1;

  // CÂMERA SEGUINDO
  camera.position.x = player.position.x + 5;
  camera.position.y = 5;
  camera.position.z = player.position.z + 5;
  camera.lookAt(player.position);

  renderer.render(scene, camera);
}

animate();
</script>
</body>
</html>
